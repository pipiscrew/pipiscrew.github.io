<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.6.2"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Issue Your Own Self-Signed S/MIME Certs with OpenSSL" /><meta name="author" content="PipisCrew" /><meta property="og:locale" content="en_US" /><meta name="description" content="1 2 3 4 //src - https://gist.github.com/richieforeman/3166387 openssl genrsa -des3 -out ca.key 4096 openssl req -new -x509 -days 365 -key ca.key -out ca.crt openssl pkcs12 -export -in ca.crt -inkey ca.key -out ca.p12" /><meta property="og:description" content="1 2 3 4 //src - https://gist.github.com/richieforeman/3166387 openssl genrsa -des3 -out ca.key 4096 openssl req -new -x509 -days 365 -key ca.key -out ca.crt openssl pkcs12 -export -in ca.crt -inkey ca.key -out ca.p12" /><link rel="canonical" href="/posts/issue-your/" /><meta property="og:url" content="/posts/issue-your/" /><meta property="og:site_name" content="PipisCrew" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-12-16T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Issue Your Own Self-Signed S/MIME Certs with OpenSSL" /><meta name="twitter:site" content="@pipiscrew" /><meta name="twitter:creator" content="@PipisCrew" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@type":"BlogPosting","url":"/posts/issue-your/","headline":"Issue Your Own Self-Signed S/MIME Certs with OpenSSL","dateModified":"2018-12-16T00:00:00+08:00","datePublished":"2018-12-16T00:00:00+08:00","author":{"@type":"Person","name":"PipisCrew"},"mainEntityOfPage":{"@type":"WebPage","@id":"/posts/issue-your/"},"description":"1 2 3 4 //src - https://gist.github.com/richieforeman/3166387 openssl genrsa -des3 -out ca.key 4096 openssl req -new -x509 -days 365 -key ca.key -out ca.crt openssl pkcs12 -export -in ca.crt -inkey ca.key -out ca.p12","@context":"https://schema.org"}</script><title>Issue Your Own Self-Signed S/MIME Certs with OpenSSL | PipisCrew</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">PipisCrew</a></div><div class="site-subtitle font-italic">A text-focused Jekyll theme.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/pipiscrew" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/pipiscrew" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Issue Your Own Self-Signed S/MIME Certs with OpenSSL</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Issue Your Own Self-Signed S/MIME Certs with OpenSSL</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Dec 16, 2018, 12:00 AM +0800" > Dec 16, 2018 <i class="unloaded">2018-12-16T00:00:00+08:00</i> </span> by <span class="author"> PipisCrew </span></div></div><div class="post-content"><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c1">//src - https://gist.github.com/richieforeman/3166387</span>
<span class="nx">openssl</span> <span class="nx">genrsa</span> <span class="o">-</span><span class="nx">des3</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="mi">4096</span>
<span class="nx">openssl</span> <span class="nx">req</span> <span class="o">-</span><span class="k">new</span> <span class="o">-</span><span class="nx">x509</span> <span class="o">-</span><span class="nx">days</span> <span class="mi">365</span> <span class="o">-</span><span class="nx">key</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">crt</span>
<span class="nx">openssl</span> <span class="nx">pkcs12</span> <span class="o">-</span><span class="k">export</span> <span class="o">-</span><span class="k">in</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">crt</span> <span class="o">-</span><span class="nx">inkey</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">p12</span>
</pre></table></code></div></div><p>more <a href="https://www.dalesandro.net/create-self-signed-smime-certificates/">Create Self-Signed S/MIME Certificates</a> by John Dalesandro - <a href="https://docdroid.net/4HeohFv">mirror</a></p><p><strong>refs :</strong> <a href="https://www.ssl.com/how-to/create-a-pfx-p12-certificate-file-using-openssl/">https://www.ssl.com/how-to/create-a-pfx-p12-certificate-file-using-openssl/</a></p><p>https://security.stackexchange.com/questions/17583/how-do-i-create-a-valid-email-certificate-for-outlook-s-mime-with-openssl</p><p>https://stackoverflow.com/a/20445432</p><p>https://www.howtoforge.com/how-to-encrypt-mails-with-ssl-certificates-s-mime</p><p>https://gist.github.com/essandess/395446556afea7334826e9df74f85edf</p><hr /><h3 id="how-to-apply-at-comodo-for-free-email-certification">How to apply at COMODO for free email certification</h3><p>-By any browser, apply for the <a href="https://sectigo.com/products/signing-certificates/email-smime-certificate">certification</a> (write down the password you set), wait to receive the COMODO mail <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/J22rd4Q.png" alt="" /></p><p>Then using <strong>firefox only</strong>, goto the link provided to your mail <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/Rj1JNNA.png" alt="" /></p><p>it will ask for your email and password mailed^ <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/Rgg42ZU.png" alt="" /></p><p><strong>Automatically</strong> will install the <strong>certificate</strong> to firefox, then goto Options &gt; about:preferences#privacy &gt; View Certificates <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/YWdgAkK.png" alt="" /></p><p>Find the certificate under <strong>Your Certificates</strong> tab <a href="https://i.imgur.com/pfbMthu.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/pfbMthu.png" alt="" /></a></p><p>Select the certificate and click <strong>Backup button</strong>, will ask for a <strong>password</strong>, use a <strong>new one</strong>, this will generate a <strong>.p12</strong> file.</p><p>The certificate is valid for <strong>365 days</strong>.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/vGxN3FM.png" alt="" /></p><p>Now open <strong>Thunderbird</strong>, goto Options &gt; Account Settings &gt; Security <a href="https://i.imgur.com/0x8f6nt.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/0x8f6nt.png" alt="" /></a></p><p>Click <strong>Manage Certificates</strong>, click <strong>Import</strong> button and point the <strong>.p12</strong> file generated from <strong>Firefox</strong>. Then click the <strong>Select</strong></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/mnNFs0d.png" alt="" /></p><p>Automatically will <strong>find</strong> the <strong>certificate</strong> and ask you : <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/7tLqHQQ.png" alt="" /></p><p>If you choose yes, you can also encrypt the message body. Now when you open a New Message window, you can choose to <strong>Digital Sign</strong> it and <strong>encrypt it</strong> if you like.</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/mbU5Gui.png" alt="" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/MWVTzRf.png" alt="" /></p><p>source - <a href="http://techies-world.com/install-comodo-email-certificate-in-thunderbird/">http://techies-world.com/install-comodo-email-certificate-in-thunderbird/</a></p><hr /><p>if you delete the .p12 you <strong>cant recover it</strong>, doing again the procedure, you getting : <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/YeXZtyC.png" alt="" /></p><p><strong>web clients</strong>, shows the certificate as attachment :) (always <strong>smime.p7s</strong>) <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/gBH7XQl.png" alt="" /></p><p><strong>Thunderbird</strong> - when you sent a signed email, this <strong>envelope</strong> appears <a href="https://i.imgur.com/BR2GdxW.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/BR2GdxW.png" alt="" /></a></p><p>Outlook <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/1C6RBRt.png" alt="" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/ZOhBSfe.png" alt="" /></p><p>gmail <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/qk6BwAe.png" alt="" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/WcHgiMR.png" alt="" /></p><p>gmail mobile <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/qk6BwAe.png" alt="" /> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/WcHgiMR.png" alt="" /></p><p>Thunderbird when the certificate is not proper : <a href="https://i.imgur.com/M6m7EsS.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/M6m7EsS.png" alt="" /></a></p><hr /><p>**</p><h3 id="creating-the-certificate-with-openssl">Creating the certificate with openssl</h3><p>** The openssl advise to use the precompiled from the following distributors. (<a href="https://www.openssl.org/community/binaries.html">proof</a>) download MinGW compiled from <a href="https://bintray.com/vszakats/generic/openssl">https://bintray.com/vszakats/generic/openssl</a></p><p><strong>run :</strong></p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">openssl</span> <span class="nx">genrsa</span> <span class="o">-</span><span class="nx">des3</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="mi">4096</span>
</pre></table></code></div></div><p>[caption width=”775” align=”aligncenter”]<a href="https://i.imgur.com/StVNXoz.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/StVNXoz.png" alt="" /></a> ca.key will generated[/caption]</p><p><strong>run :</strong></p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">openssl</span> <span class="nx">req</span> <span class="o">-</span><span class="k">new</span> <span class="o">-</span><span class="nx">config</span> <span class="nx">openssl</span><span class="p">.</span><span class="nx">cnf</span> <span class="o">-</span><span class="nx">x509</span> <span class="o">-</span><span class="nx">days</span> <span class="mi">9999</span> <span class="o">-</span><span class="nx">key</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">crt</span>
</pre></table></code></div></div><p>[caption width=”1057” align=”aligncenter”]<a href="https://i.imgur.com/DgLTTk4.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/DgLTTk4.png" alt="" /></a> we enter our email address^ this will be used to identify the certificate later on outlook. ca.crt will generated[/caption]</p><p>Double click the <strong>ca.crt</strong> <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/Kc8Iqve.png" alt="" /></p><p><strong>run :</strong></p><div class="language-js highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nx">openssl</span> <span class="nx">pkcs12</span> <span class="o">-</span><span class="k">export</span> <span class="o">-</span><span class="k">in</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">crt</span> <span class="o">-</span><span class="nx">inkey</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">key</span> <span class="o">-</span><span class="nx">out</span> <span class="nx">ca</span><span class="p">.</span><span class="nx">p12</span>
</pre></table></code></div></div><p>[caption width=”877” align=”aligncenter”]<a href="https://i.imgur.com/u57rBpH.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/u57rBpH.png" alt="" /></a> ca.p12 will generated[/caption]</p><p>[caption width=”171” align=”aligncenter”]<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/W5xhi90.png" alt="" /> right click[/caption]</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/gzDkIfj.png" alt="" /></p><p>[caption width=”933” align=”aligncenter”]<a href="https://i.imgur.com/fD3eFyG.png"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/fD3eFyG.png" alt="" /></a> [windows + R] &gt; certmgr.msc[/caption]</p><p>At <strong>outlook</strong> File &gt; options &gt; trust center &gt; trust center settings &gt; email security &gt; default setting, settings button &gt; Signing Certificate [choose] &gt; automatically verifies the certificate (we enter before our email address) with the account we have to outlook</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/8gVrWsM.png" alt="" /></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/BWpHBD1.png" alt="" /></p><p>Will be identified as : <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/S9JsDZx.png" alt="" /></p><p>Now, <strong>two new buttons</strong> appear on the <strong>OPTIONS</strong> tab</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/UyywKCT.png" alt="" /></p><p>when tried to sign my first mail, got <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://i.imgur.com/E78oINK.png" alt="" /></p><p>possible <a href="https://support.microsoft.com/en-gb/help/884738/you-receive-an-error-message-when-you-try-to-send-an-encrypted-e-mail">solution</a> (not tried!).</p><h2 id="non-important-refs-">non important refs :</h2><p>For outlook https://support.quovadisglobal.com/kb/a416/how-do-i-install-my-digital-certificate-into-outlook-2013-to-encrypt-email-or-digitally-sign-emails.aspx https://knowledge.digicert.com/solution/SO10781.html</p><p>For word : https://support.office.com/en-us/article/add-or-remove-a-digital-signature-in-office-files-70d26dc9-be10-46f1-8efa-719c8b3f1a2d</p><p><a href="https://www.signfiles.com/p7s-signer/">How to sign a file with 3rd party app </a></p><p>https://support.comodo.com/index.php?/comodo/Knowledgebase/Article/View/1001/7/how-to-verify-your-code-signing-certificate-is-installed-windows Obtaining an S/MIME Certificate to Sign Emails https://support.postbox-inc.com/hc/en-us/articles/202200540-Obtaining-an-S-MIME-Certificate-to-Sign-Emails https://www.openssl.org/docs/manmaster/man1/smime.html https://knowledge.digicert.com/solution/SO10781.html Encrypt messages by using S/MIME in Outlook Web App https://support.office.com/en-us/article/encrypt-messages-by-using-s-mime-in-outlook-web-app-2e57e4bd-4cc2-4531-9a39-426e7c873e26 Browser Email Certificates FAQ https://www.instantssl.com/ssl-certificate-support/server_faq/ssl-email-certificate-faq.html</p><hr /><p><strong>PKCS#12 of .pfx or .p12</strong></p><p>The PKCS#12 or PFX format is a binary format for storing the server certificate, any intermediate certificates, and the private key into a single encryptable file. PFX files are usually found with the extensions .pfx and .p12. PFX files are typically used on Windows machines to import and export certificates and private keys. The Personal Information Exchange format (PFX, also called PKCS #12) supports secure storage of certificates, private keys, and all certificates in a certification path. The PKCS #12 format is the only file format that can be used to export a certificate and its private key.</p><p><strong>.CRT or .CER</strong></p><p>CRT is a file extension for a digital certificate file used with a web browser. CRT files are used to verify a secure website’s authenticity, distributed by certificate authority (CA) companies such as GlobalSign, VeriSign and Thawte. (<a href="https://codebazz.wordpress.com/2017/08/27/difference-between-p12-pfx-vs-crt-cer-vs-pem-vs-der/">src</a>)</p><p>#OpenSSL #thunderbird #firefox #certificate #pfx #p12 #crt</p><p>origin - https://www.pipiscrew.com/?p=14493 issue-your-own-self-signed-smime-certs-with-openssl</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/news/'>news</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Issue Your Own Self-Signed S/MIME Certs with OpenSSL - PipisCrew&url=/posts/issue-your/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Issue Your Own Self-Signed S/MIME Certs with OpenSSL - PipisCrew&u=/posts/issue-your/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Issue Your Own Self-Signed S/MIME Certs with OpenSSL - PipisCrew&url=/posts/issue-your/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/snapchat-r/"><div class="card-body"> <span class="timeago small" > Jun 22, 2017 <i class="unloaded">2017-06-22T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Snapchat reportedly paid over $250 million for an app that lets you track your friends</h3><div class="text-muted small"><p> http://www.businessinsider.com/report-snapchat-buys-zenly-2017-6 origin - http://www.pipiscrew.com/2017/06/snapchat-reportedly-paid-over-250-million-for-an-app-that-lets-you-track-your-friends/ sn...</p></div></div></a></div><div class="card"> <a href="/posts/wannacry-r/"><div class="card-body"> <span class="timeago small" > Jun 22, 2017 <i class="unloaded">2017-06-22T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>WannaCry reportedly hitting speed cameras in Victoria</h3><div class="text-muted small"><p> http://www.zdnet.com/article/wannacry-reportedly-hitting-speed-cameras-in-victoria/ origin - http://www.pipiscrew.com/2017/06/wannacry-reportedly-hitting-speed-cameras-in-victoria/ wannacry-report...</p></div></div></a></div><div class="card"> <a href="/posts/7zip-or-ra/"><div class="card-body"> <span class="timeago small" > Jun 23, 2017 <i class="unloaded">2017-06-23T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>o7zip or RAR your project files and folders!</h3><div class="text-muted small"><p> A command line, place is to the root folder where contains all your PRJ folders, save is as backup.bat download 7-Zip Command Line Version from http://www.7-zip.org/download.html 7z a mybackup.7z...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/how-turn-c/" class="btn btn-outline-primary"><p>How Turn Confidential works in Gmail</p></a> <a href="/posts/loveknitti/" class="btn btn-outline-primary"><p>LoveKnitting</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://twitter.com/pipiscrew">pipiscrew</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
